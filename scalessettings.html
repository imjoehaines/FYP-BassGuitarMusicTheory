<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />

		<link rel="stylesheet" type="text/css" href="css/index.css" />
		<script type="text/javascript" src="js/shared.js"></script>

		<title>Bass Guitar Music Theory</title>
	</head>
	<body>

		<header>
			<h1>Scales <span>Settings</span></h1>
		</header>

		<div class="row">
			<div style="float:left;">
				<h2>Select the Key</h2>
				<select id="keyList" onchange="saveSettings()">
					<option value="0">A</option>
					<option value="1">A#</option>
					<option value="2">B</option>
					<option value="3">C</option>
					<option value="4">C#</option>
					<option value="5">D</option>
					<option value="6">D#</option>
					<option value="7">E</option>
					<option value="8">F</option>
					<option value="9">F#</option>
					<option value="10">G</option>
					<option value="11">G#</option>
				</select>
			</div>
			<div style="float:left;">

				<h2>Select a Scale</h2>
				<select id="scaleList" onchange="saveSettings()">
					<option value="0">Major</option>
					<option value="1">Minor Pentatonic</option>
					<option value="2">Major Pentatonic</option>
					<option value="3">Major Triad</option>
					<option value="4">Major 7th</option>
					<option value="5">Dominant 7th</option>
					<option value="6">Mixolydian</option>
				</select>
			</div>
		</div>

		<h2>Time Limit <span class="rightLabel"><output for="timeSlider" id="timeSliderOutput">5</output> mins</span></h2>

		<div class="row">
			<input type="range" min="1" max="10" value="5" id="timeSlider" onchange="timeOutputUpdate(value); saveSettings()" />

			<script>
				localStorage.setItem("timeLimit", 5)

				function timeOutputUpdate(time) {
					document.querySelector('#timeSliderOutput').value = time;
				}

			</script>

		</div>


		<div class="row">
			<div class="half column">
				<a href="index.html" ontouchstart="activeLink(this)" class="mainNav acceptBtn">Back</a>
			</div>
			<div class="half column">
				<a href="scalesexercise.html" ontouchstart="activeLink(this); saveSettings();" onclick="activeLink(this); saveSettings();" class="mainNav acceptBtn">Accept</a>
			</div>
		</div>

		<script type="text/javascript">

			function saveSettings() {
				
				localStorage.removeItem("selectedKey")
				var selectedKey = document.getElementById("keyList").value;
				localStorage.setItem("selectedKey", selectedKey)

				localStorage.removeItem("selectedScale")
				var selectedScale = document.getElementById("scaleList").value;
				localStorage.setItem("selectedScale", selectedScale)

				localStorage.removeItem("timeLimit")
				var timeLimit = document.querySelector('#timeSliderOutput').value;
				localStorage.setItem("timeLimit", timeLimit)

			}

			// update label values for first load
			timeOutputUpdate(document.getElementById("timeSlider").value);


		</script>

	</body>
</html>
